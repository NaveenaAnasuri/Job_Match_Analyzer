<!DOCTYPE html>
<html>
<head>
    <title>Resume Job Matcher</title>
</head>
<body>

<h2>Add Job Description</h2>

<form id="jobForm">
    <textarea name="job_description" rows="8" cols="80"
        placeholder="Paste Job Description here..."></textarea><br><br>
    <button type="submit">Add Job</button>
</form>

<hr>

<h2>Upload Resume</h2>

<form id="resumeForm" enctype="multipart/form-data">
    <input type="file" name="resume" required><br><br>
    <button type="submit">Match Resume</button>
</form>

<hr>

<h2>Results</h2>
<pre id="results"></pre>

<script>
document.getElementById("jobForm").onsubmit = async function(e) {
    e.preventDefault();

    let formData = new FormData(this);

    let response = await fetch("/add_job", {
        method: "POST",
        body: formData
    });

    let data = await response.json();
    alert(data.message);
};

document.getElementById("resumeForm").onsubmit = async function(e) {
    e.preventDefault();

    let formData = new FormData(this);

    let response = await fetch("/match_resume", {
        method: "POST",
        body: formData
    });

    let data = await response.json();

    document.getElementById("results").innerText =
        JSON.stringify(data, null, 2);
};
</script>

</body>
</html>
